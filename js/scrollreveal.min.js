(function(c){'use strict';function d(){var l=k.clientHeight,m=c.innerHeight;return l<m?m:l}function e(l){var m=0,n=0;do isNaN(l.offsetTop)||(m+=l.offsetTop),isNaN(l.offsetLeft)||(n+=l.offsetLeft);while(l=l.offsetParent);return{top:m,left:n}}function f(l,m){var n=c.pageYOffset,o=n+d(),p=l.offsetHeight,q=e(l).top,m=m||0;return q+p*m<=o&&q+p>=n}function g(l,m){for(var n in m)m.hasOwnProperty(n)&&(l[n]=m[n]);return l}function j(l){this.options=g(this.defaults,l),this._init()}var k=c.document.documentElement;j.prototype={defaults:{axis:'y',distance:'25px',duration:'0.66s',delay:'0s',viewportFactor:0.33},_init:function(){var l=this;this.elems=Array.prototype.slice.call(k.querySelectorAll('[data-scrollReveal]')),this.scrolled=!1,this.elems.forEach(function(o){l.animate(o)});c.addEventListener('scroll',function(){l.scrolled||(l.scrolled=!0,setTimeout(function(){l._scrollPage()},60))},!1),c.addEventListener('resize',function(){l.resizeTimeout&&clearTimeout(l.resizeTimeout),l.resizeTimeout=setTimeout(function(){l._scrollPage(),l.resizeTimeout=null},200)},!1)},_scrollPage:function(){var l=this;this.elems.forEach(function(m){f(m,l.options.viewportFactor)&&l.animate(m)}),this.scrolled=!1},parseLanguage:function(l){var o,n=l.getAttribute('data-scrollreveal').split(/[, ]+/),p={};return n=function(q){var r=[],s=['from','the','and','then','but'];return q.forEach(function(t){-1<s.indexOf(t)||r.push(t)}),r}(n),n.forEach(function(q,r){return'enter'===q?(o=n[r+1],('top'==o||'bottom'==o)&&(p.axis='y'),void(('left'==o||'right'==o)&&(p.axis='x'))):'after'===q?void(p.delay=n[r+1]):'wait'===q?void(p.delay=n[r+1]):'move'===q?void(p.distance=n[r+1]):'over'===q?void(p.duration=n[r+1]):'trigger'===q?void(p.eventName=n[r+1]):void 0}),('top'==o||'left'==o)&&('undefined'==!typeof p.distance?p.distance='-'+p.distance:p.distance='-'+this.options.distance),p},genCSS:function(l,m){var n=this.parseLanguage(l),o=n.distance||this.options.distance,p=n.duration||this.options.duration,q=n.delay||this.options.delay,m=n.axis||this.options.axis;return{transition:'-webkit-transition: all '+p+' ease '+q+';-moz-transition: all '+p+' ease '+q+';-o-transition: all '+p+' ease '+q+';transition: all '+p+' ease '+q+';',initial:'-webkit-transform: translate'+m+'('+o+');-moz-transform: translate'+m+'('+o+');transform: translate'+m+'('+o+');opacity: 0;',target:'-webkit-transform: translate'+m+'(0);-moz-transform: translate'+m+'(0);transform: translate'+m+'(0);opacity: 1;',totalDuration:1e3*(parseFloat(p)+parseFloat(q))}},animate:function(l){var m=this.genCSS(l);l.getAttribute('data-sr-init')||(l.setAttribute('style',m.initial),l.setAttribute('data-sr-init',!0));l.getAttribute('data-sr-complete')||f(l,this.options.viewportFactor)&&(l.setAttribute('style',m.target+m.transition),setTimeout(function(){l.removeAttribute('style'),l.setAttribute('data-sr-complete',!0)},m.totalDuration))}},document.addEventListener('DOMContentLoaded',function(){c.scrollReveal=new j})})(window);
